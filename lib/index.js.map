{"version":3,"file":"index.js","sources":["../src/is-extracted-rails-id.ts","../src/extract-rails-id.ts","../src/create-rails-id.ts"],"sourcesContent":["\n/**\n * Checks to see if the given string is a valid extracted Rails ID\n * i.e. 55587 and not gid://qeepsake-rails/JournalEntry/55587\n * \n * @param id - rails ID\n * @returns if ID is extracted rails ID\n */\nexport function isExtractedRailsId(id: string): boolean {\n  return !id?.startsWith('gid://');\n}","import { isExtractedRailsId } from \"./is-extracted-rails-id\"\n\n/**\n * Extract rails ID\n *\n * If the ID is passed in the format of gid://qeepsake-rails/JournalEntry/55587\n * then it will be returned 55587\n *\n * @param gid - gid://qeepsake-rails/Model/55587\n * @param stripTimestamp - whether to strip the timestamp from the ID (i.e. %2C2022-09-26+13%3A08%3A27+UTC)\n *\n * @returns 55587\n */\nexport function extractRailsId(gid: string, stripTimestamp?: boolean): string\nexport function extractRailsId(\n  gid?: string | null,\n  stripTimestamp?: boolean,\n): string | null\nexport function extractRailsId(\n  gid?: string | null,\n  stripTimestamp = false,\n): string | null {\n  // Checks if ID has already been extracted, if so, return it\n  if(gid && isExtractedRailsId(gid)) {\n    return gid\n  }\n\n  if (typeof gid === 'string' && gid?.indexOf('/') != -1) {\n    const gidComponents = gid.split('/')\n    let extractedId = gidComponents[gidComponents.length - 1]\n\n    // Strips the timestamp (%2C2022-09-26+13%3A08%3A27+UTC)) from the ID\n    if (stripTimestamp && extractedId?.includes('%')) {\n      extractedId = extractedId.split('%')[0]\n    }\n\n    if (extractedId) {\n      return extractedId\n    }\n  }\n\n  return null\n}\n","/**\n * Creates a rails id\n *\n * If the ID is passed in the format of 55587, then it will be returned\n * gid://qeepsake-rails/JournalEntry/55587\n *\n * @param id - 55587\n * @param model - JournalEntry\n *\n * @returns gid://qeepsake-rails/Model/55587\n */\nexport function createRailsId(id: number | string, model: string): string {\n  return `gid://qeepsake-rails/${model}/${id}`\n}\n"],"names":["isExtractedRailsId","id","startsWith","extractRailsId","gid","stripTimestamp","indexOf","gidComponents","split","extractedId","length","includes","createRailsId","model"],"mappings":"SAQgBA,mBAAmBC;AACjC,SAAO,EAACA,EAAD,aAACA,EAAD,eAACA,EAAE,CAAEC,UAAJ,CAAe,QAAf,CAAD,CAAP;AACD;;SCQeC,eACdC,KACAC;MAAAA;AAAAA,IAAAA,iBAAiB;;;AAGjB,MAAGD,GAAG,IAAIJ,kBAAkB,CAACI,GAAD,CAA5B,EAAmC;AACjC,WAAOA,GAAP;AACD;;AAED,MAAI,OAAOA,GAAP,KAAe,QAAf,IAA2B,CAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEE,OAAL,CAAa,GAAb,MAAqB,CAAC,CAArD,EAAwD;AAAA;;AACtD,QAAMC,aAAa,GAAGH,GAAG,CAACI,KAAJ,CAAU,GAAV,CAAtB;AACA,QAAIC,WAAW,GAAGF,aAAa,CAACA,aAAa,CAACG,MAAd,GAAuB,CAAxB,CAA/B;;AAGA,QAAIL,cAAc,oBAAII,WAAJ,yCAAI,aAAaE,QAAb,CAAsB,GAAtB,CAAtB,EAAkD;AAChDF,MAAAA,WAAW,GAAGA,WAAW,CAACD,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,CAAd;AACD;;AAED,QAAIC,WAAJ,EAAiB;AACf,aAAOA,WAAP;AACD;AACF;;AAED,SAAO,IAAP;AACD;;SC/BeG,cAAcX,IAAqBY;AACjD,mCAA+BA,KAA/B,SAAwCZ,EAAxC;AACD;;;;;;"}